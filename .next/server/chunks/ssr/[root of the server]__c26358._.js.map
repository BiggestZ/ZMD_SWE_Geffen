{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/src/app/components/tag.tsx"],"sourcesContent":["import { Subtopic,Topic } from \"@/types\"\r\n\r\nconst Tag : React.FC<Subtopic> = ({ SubtopicName }) => {\r\n    return(\r\n        <div className=\"w-fit h-fit p-1 bg-slate-500 rounded-md text-white\">{ SubtopicName }</div>\r\n    )\r\n}\r\n\r\nconst TopicTag : React.FC<Topic> = ({TopicName}) => {\r\n    return(\r\n        <div />\r\n        //<div className=\"w-fit h-fit p-1 bg-slate-400 rounded-md text-white\">{ TopicName }</div>\r\n    )\r\n}\r\n\r\nexport { Tag,TopicTag };"],"names":[],"mappings":";;;;;;AAEA,MAAM,MAA2B,CAAC,EAAE,YAAY,EAAE;IAC9C,qBACI,8OAAC;QAAI,WAAU;kBAAuD;;;;;;AAE9E;AAEA,MAAM,WAA6B,CAAC,EAAC,SAAS,EAAC;IAC3C,qBACI,8OAAC;;;;;AAGT"}},
    {"offset": {"line": 31, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 37, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/src/app/components/book.tsx"],"sourcesContent":["import { Book, Subtopic } from \"@/types\";\r\nimport { Tag, TopicTag } from \"./tag\";\r\nimport { getSubtopicsForBook } from \"./book_entry\";\r\nimport { Plus } from \"phosphor-react\";\r\n\r\nconst BookEntry : React.FC<Book> = async ({ title,author,isbn,bookDesc,tagsList,topicsList}) => {\r\n\r\n    let tagsArray = tagsList.map((tag) => {\r\n        return(\r\n        <Tag key={tag} SubtopicName={tag} />\r\n    )})\r\n    \r\n    let topicsArray = tagsList.map((tag) => {\r\n        return(\r\n        <TopicTag key={tag} TopicName={tag} />\r\n    )})\r\n    \r\n    return(\r\n        <div className=\"flex\">\r\n            <div className=\"w-full p-2 h-fit bg-slate-200 rounded-md border-solid border border-slate-500\">\r\n                <div className=\"flex space-x-4 text-base\">\r\n                    <div className=\"font-bold capitalize\">{ title }</div>\r\n                    <div className=\"grow text-right\"><b>ISBN: </b>{ isbn }</div>\r\n                </div> \r\n                <div className=\"capitalize\">{ author }</div>\r\n                <div className=\"text-sm p-2\">{ bookDesc }</div>\r\n                <div className=\"flex flex-wrap flex-row place-content-start p-1 gap-2\">\r\n                    {topicsArray}\r\n                </div>\r\n                <div className=\"flex flex-wrap flex-row place-content-start p-1 gap-2\">\r\n                    {tagsArray}\r\n                </div>\r\n            </div>\r\n\r\n        </div>\r\n    );\r\n};\r\n\r\nexport { BookEntry };\r\n\r\n\r\n\r\n// get a list of all topics/subtopics, order by subtopics\r\n// loop through every tag and match them to what each book has\r\n// add topics to also be displayed\r\n\r\n//<div className=\"grow text-right\"><button onClick={() => } className=\"rounded-md\"><Plus size={20} /></button></div>            "],"names":[],"mappings":";;;;AACA;;;AAIA,MAAM,YAA6B,OAAO,EAAE,KAAK,EAAC,MAAM,EAAC,IAAI,EAAC,QAAQ,EAAC,QAAQ,EAAC,UAAU,EAAC;IAEvF,IAAI,YAAY,SAAS,GAAG,CAAC,CAAC;QAC1B,qBACA,8OAAC,gIAAA,CAAA,MAAG;YAAW,cAAc;WAAnB;;;;;IACb;IAED,IAAI,cAAc,SAAS,GAAG,CAAC,CAAC;QAC5B,qBACA,8OAAC,gIAAA,CAAA,WAAQ;YAAW,WAAW;WAAhB;;;;;IAClB;IAED,qBACI,8OAAC;QAAI,WAAU;kBACX,cAAA,8OAAC;YAAI,WAAU;;8BACX,8OAAC;oBAAI,WAAU;;sCACX,8OAAC;4BAAI,WAAU;sCAAyB;;;;;;sCACxC,8OAAC;4BAAI,WAAU;;8CAAkB,8OAAC;8CAAE;;;;;;gCAAY;;;;;;;;;;;;;8BAEpD,8OAAC;oBAAI,WAAU;8BAAe;;;;;;8BAC9B,8OAAC;oBAAI,WAAU;8BAAgB;;;;;;8BAC/B,8OAAC;oBAAI,WAAU;8BACV;;;;;;8BAEL,8OAAC;oBAAI,WAAU;8BACV;;;;;;;;;;;;;;;;;AAMrB;;CAMA,yDAAyD;CACzD,8DAA8D;CAC9D,kCAAkC;CAElC,gIAAgI"}},
    {"offset": {"line": 151, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 157, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/src/app/components/tagTableSearch.tsx"],"sourcesContent":["\"use client\";\r\n\r\nimport React, { useEffect, useState } from 'react';\r\n\r\ninterface TagTableProps {\r\n  resetTrigger: boolean;\r\n  onResetHandled: () => void;\r\n  onTagsSelected: (tags: string[]) => void; // Callback to send selected tags to parent\r\n}\r\n\r\nexport default function TagTable({ resetTrigger, onResetHandled, onTagsSelected }: TagTableProps) {\r\n  const [subTags, setSubTags] = useState<string[]>([]);\r\n  const [selectedTags, setSelectedTags] = useState<string[]>([]);\r\n  const [topics, setTopics] = useState<any[]>([]);\r\n\r\n  const subTag_View = (selectedValue: \"1\" | \"2\" | \"3\") => {\r\n    const tagOptions = {\r\n      \"1\": [\"Art\", \"Language\", \"Music\"],\r\n      \"2\": [\"Community\", \"Events\", \"Networking\"],\r\n      \"3\": [\"Parenting\", \"Education\", \"Health\"],\r\n    };\r\n\r\n    const newSubTags = tagOptions[selectedValue] || [];\r\n    setSubTags(newSubTags);\r\n  };\r\n\r\n  const handleSelectChange = (e: React.ChangeEvent<HTMLSelectElement>) => {\r\n    const selectedValue = e.target.value as \"1\" | \"2\" | \"3\";\r\n    subTag_View(selectedValue);\r\n  };\r\n\r\n  const handleCheckboxChange = (tag: string) => {\r\n    setSelectedTags((prevSelectedTags) => {\r\n      const updatedTags = prevSelectedTags.includes(tag)\r\n        ? prevSelectedTags.filter((t) => t !== tag)\r\n        : [...prevSelectedTags, tag];\r\n      return updatedTags;\r\n    });\r\n  };\r\n\r\n  // Notify parent about selected tags after `selectedTags` state updates\r\n  useEffect(() => {\r\n    onTagsSelected(selectedTags);\r\n  }, [selectedTags, onTagsSelected]);\r\n\r\n  // Reset logic when resetTrigger changes\r\n  useEffect(() => {\r\n    if (resetTrigger) {\r\n      setSubTags([]);\r\n      setSelectedTags([]);\r\n      onResetHandled();\r\n    }\r\n  }, [resetTrigger, onResetHandled]);\r\n\r\n  return (\r\n    <div>\r\n      <select className=\"form-select\" aria-label=\"Default select example\" onChange={handleSelectChange}>\r\n        <option value=\"0\">Select a tag</option>\r\n        <option value=\"1\">culture</option>\r\n        <option value=\"2\">social</option>\r\n        <option value=\"3\">family</option>\r\n      </select>\r\n\r\n      {subTags.length > 0 && (\r\n        <div>\r\n          {subTags.map((tag, index) => (\r\n            <div key={index}>\r\n              <input\r\n                type=\"checkbox\"\r\n                id={tag}\r\n                name={tag}\r\n                value={tag}\r\n                checked={selectedTags.includes(tag)}\r\n                onChange={() => handleCheckboxChange(tag)}\r\n              />\r\n              <label htmlFor={tag}>{tag}</label>\r\n            </div>\r\n          ))}\r\n        </div>\r\n      )}\r\n\r\n      {selectedTags.length > 0 && (\r\n        <div>\r\n          <h3>Selected Tags:</h3>\r\n          <ul>\r\n            {selectedTags.map((tag, index) => (\r\n              <li key={index}>{tag}</li>\r\n            ))}\r\n          </ul>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}"],"names":[],"mappings":";;;;AAEA;AAFA;;;AAUe,SAAS,SAAS,EAAE,YAAY,EAAE,cAAc,EAAE,cAAc,EAAiB;IAC9F,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAY,EAAE;IACnD,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAY,EAAE;IAC7D,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAS,EAAE;IAE9C,MAAM,cAAc,CAAC;QACnB,MAAM,aAAa;YACjB,KAAK;gBAAC;gBAAO;gBAAY;aAAQ;YACjC,KAAK;gBAAC;gBAAa;gBAAU;aAAa;YAC1C,KAAK;gBAAC;gBAAa;gBAAa;aAAS;QAC3C;QAEA,MAAM,aAAa,UAAU,CAAC,cAAc,IAAI,EAAE;QAClD,WAAW;IACb;IAEA,MAAM,qBAAqB,CAAC;QAC1B,MAAM,gBAAgB,EAAE,MAAM,CAAC,KAAK;QACpC,YAAY;IACd;IAEA,MAAM,uBAAuB,CAAC;QAC5B,gBAAgB,CAAC;YACf,MAAM,cAAc,iBAAiB,QAAQ,CAAC,OAC1C,iBAAiB,MAAM,CAAC,CAAC,IAAM,MAAM,OACrC;mBAAI;gBAAkB;aAAI;YAC9B,OAAO;QACT;IACF;IAEA,uEAAuE;IACvE,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,eAAe;IACjB,GAAG;QAAC;QAAc;KAAe;IAEjC,wCAAwC;IACxC,CAAA,GAAA,qMAAA,CAAA,YAAS,AAAD,EAAE;QACR,IAAI,cAAc;YAChB,WAAW,EAAE;YACb,gBAAgB,EAAE;YAClB;QACF;IACF,GAAG;QAAC;QAAc;KAAe;IAEjC,qBACE,8OAAC;;0BACC,8OAAC;gBAAO,WAAU;gBAAc,cAAW;gBAAyB,UAAU;;kCAC5E,8OAAC;wBAAO,OAAM;kCAAI;;;;;;kCAClB,8OAAC;wBAAO,OAAM;kCAAI;;;;;;kCAClB,8OAAC;wBAAO,OAAM;kCAAI;;;;;;kCAClB,8OAAC;wBAAO,OAAM;kCAAI;;;;;;;;;;;;YAGnB,QAAQ,MAAM,GAAG,mBAChB,8OAAC;0BACE,QAAQ,GAAG,CAAC,CAAC,KAAK,sBACjB,8OAAC;;0CACC,8OAAC;gCACC,MAAK;gCACL,IAAI;gCACJ,MAAM;gCACN,OAAO;gCACP,SAAS,aAAa,QAAQ,CAAC;gCAC/B,UAAU,IAAM,qBAAqB;;;;;;0CAEvC,8OAAC;gCAAM,SAAS;0CAAM;;;;;;;uBATd;;;;;;;;;;YAef,aAAa,MAAM,GAAG,mBACrB,8OAAC;;kCACC,8OAAC;kCAAG;;;;;;kCACJ,8OAAC;kCACE,aAAa,GAAG,CAAC,CAAC,KAAK,sBACtB,8OAAC;0CAAgB;+BAAR;;;;;;;;;;;;;;;;;;;;;;AAOvB"}},
    {"offset": {"line": 335, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 355, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/src/app/components/filters/search.tsx"],"sourcesContent":["\"use client\"\r\n\r\nimport TagTable from \"../tagTableSearch\";\r\nimport { useState,  useEffect, useMemo } from 'react';\r\nimport { useAppDispatch,useAppSelector } from \"./hooks\";\r\nimport { setSearch } from \"./store\";\r\n\r\n// thoughts\r\n// figure out the function/api to call all subtopics and IDs at once DONE\r\n// array.filter(tag)\r\n    // probably not, since books aren't being rendered within the form\r\n// try: export the checked tags on submit, feed those to the search page.tsx getallbooks\r\n// follow logic from there after\r\n// won't need to submit form? maybe?\r\n\r\nconst SearchBlock : React.FC = () => {\r\n\r\n    const dispatch = useAppDispatch();\r\n    const search = useAppSelector((state) => state.filterSearch.SubtopicName)\r\n\r\n    const [selectedTags,setSelectedTags] = useState<string[]>([]);\r\n    const [resetTrigger, setResetTrigger] = useState(false);\r\n\r\n    const handleResetHandled = () => {\r\n        setResetTrigger(false);\r\n    };\r\n\r\n    /*\r\n    async function searchSubmit (e: React.FormEvent) {\r\n        e.preventDefault();\r\n\r\n        console.log(TagTable)\r\n\r\n        /*selectedTags.map((tag) => {\r\n            myFormData.append(tag, tag)\r\n        })\r\n    \r\n        console.log(\"formdata\", myFormData)\r\n    }*/\r\n\r\n    return (\r\n        <div className = \"flex fixed left-0 h-full bg-slate-200 overscroll-contain w-48 grid grid-cols-1 justify-top\">\r\n            <form>        \r\n                <h2 className=\"grow-0\">Search</h2>\r\n                <TagTable \r\n                    resetTrigger={resetTrigger}\r\n                    onResetHandled={handleResetHandled}\r\n                    onTagsSelected={(e) => dispatch(setSearch(e[0]))}\r\n                />\r\n            </form>\r\n        </div>\r\n    );\r\n};\r\n\r\n\r\nexport default SearchBlock;"],"names":[],"mappings":";;;;AAEA;AACA;;;;;;;;;;;AAHA;;;;;;AAOA,WAAW;AACX,yEAAyE;AACzE,oBAAoB;AAChB,kEAAkE;AACtE,wFAAwF;AACxF,gCAAgC;AAChC,oCAAoC;AAEpC,MAAM,cAAyB;IAE3B,MAAM,WAAW;IACjB,MAAM,SAAS,eAAe,CAAC,QAAU,MAAM,YAAY,CAAC,YAAY;IAExE,MAAM,CAAC,cAAa,gBAAgB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAY,EAAE;IAC5D,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEjD,MAAM,qBAAqB;QACvB,gBAAgB;IACpB;IAEA;;;;;;;;;;;KAWC,GAED,qBACI,8OAAC;QAAI,WAAY;kBACb,cAAA,8OAAC;;8BACG,8OAAC;oBAAG,WAAU;8BAAS;;;;;;8BACvB,8OAAC,2IAAA,CAAA,UAAQ;oBACL,cAAc;oBACd,gBAAgB;oBAChB,gBAAgB,CAAC,IAAM,SAAS,UAAU,CAAC,CAAC,EAAE;;;;;;;;;;;;;;;;;AAKlE;uCAGe"}},
    {"offset": {"line": 437, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}},
    {"offset": {"line": 539, "column": 0}, "map": {"version":3,"sources":["turbopack://[project]/src/app/search/page.tsx"],"sourcesContent":["'use client'\r\n\r\nimport { Book } from \"@/types\";\r\nimport axios from \"axios\";\r\nimport { BookEntry } from \"../components/book\";\r\nimport SearchBlock from \"@/app/components/filters/search\"\r\nimport TagTable from \"../components/tagTableSearch\";\r\nimport { useState } from 'react';\r\n\r\nexport default async function Home() {\r\n\r\n    const [searchQuery, setSearchQuery] = useState('');\r\n    const [searchResults, setSearchResults] = useState([]);\r\n    const [message, setMessage] = useState('');\r\n    const [resetTrigger, setResetTrigger] = useState(false);\r\n\r\n    const handleResetHandled = () => {\r\n        setResetTrigger(false);\r\n    };\r\n\r\n    // Search books\r\n    const handleSearch = async (e: React.FormEvent) => {\r\n        e.preventDefault();\r\n        setMessage('Searching for books...');\r\n        console.log('Getting book:', searchQuery);\r\n        try {\r\n        // const response = await axios.get(API_ROUTES.EDIT_BOOK,{data: { searchQuery },});\r\n        const response = await axios.get('http://localhost:3000/api/books', {\r\n            params: { subtopic:searchQuery },\r\n        });\r\n        \r\n        if (response.data && response.data.books) {\r\n            console.log(\"book response.data:\", response.data)\r\n            console.log(\"book response.data.books:\", response.data.books)\r\n            // setSearchResults(response.data.books);\r\n            setSearchResults(response.data.books);\r\n            setMessage('good');\r\n\r\n            //error but still works?\r\n            // console.log(\"results.title: \", searchResults[0].Title)\r\n\r\n        } else {\r\n            setSearchResults([]);\r\n            setMessage('No books found.');\r\n        }\r\n        } catch (error) {\r\n        console.error('Error searching books:', error);\r\n        setMessage('An error occurred while searching for books.');\r\n        }\r\n    };\r\n\r\n    let renderBooks = response.map(\r\n        (book) => {\r\n            let tagsArray = subtopicsList[book.title]\r\n            let topicsArray = topicsList[book.title]\r\n\r\n            return (\r\n                <BookEntry key={book.isbn} title={book.title} author={book.author} isbn={book.isbn} bookDesc={book.bookDesc} tagsList={tagsArray} topicsList={topicsArray}/>\r\n            )\r\n        }\r\n    )\r\n\r\n    return (\r\n        <div className=\"flex space-x-10\">\r\n            <div className = \"flex fixed left-0 h-full bg-slate-200 overscroll-contain w-48 grid grid-cols-1 justify-top\">\r\n            <form>        \r\n                <h2 className=\"grow-0\">Search</h2>\r\n                <TagTable \r\n                    resetTrigger={resetTrigger}\r\n                    onResetHandled={handleResetHandled}\r\n                    onTagsSelected={(e) => dispatch(setSearch(e[0]))}\r\n                />\r\n            </form>\r\n        </div>\r\n            <div className = \"flex w-48\" />\r\n            <div className = \"flex w-fit\">\r\n                <div className=\"right-0 p-5 gap-5 space-y-2\">\r\n                    { renderBooks }\r\n                </div>  \r\n            </div>         \r\n        </div>             \r\n    );\r\n};"],"names":[],"mappings":";;;;AAIA;AAEA;AACA;AAJA;AAHA;;;;;;AASe,eAAe;IAE1B,MAAM,CAAC,aAAa,eAAe,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAC/C,MAAM,CAAC,eAAe,iBAAiB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE,EAAE;IACrD,MAAM,CAAC,SAAS,WAAW,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IACvC,MAAM,CAAC,cAAc,gBAAgB,GAAG,CAAA,GAAA,qMAAA,CAAA,WAAQ,AAAD,EAAE;IAEjD,MAAM,qBAAqB;QACvB,gBAAgB;IACpB;IAEA,eAAe;IACf,MAAM,eAAe,OAAO;QACxB,EAAE,cAAc;QAChB,WAAW;QACX,QAAQ,GAAG,CAAC,iBAAiB;QAC7B,IAAI;YACJ,mFAAmF;YACnF,MAAM,YAAW,MAAM,qIAAA,CAAA,UAAK,CAAC,GAAG,CAAC,mCAAmC;gBAChE,QAAQ;oBAAE,UAAS;gBAAY;YACnC;YAEA,IAAI,UAAS,IAAI,IAAI,UAAS,IAAI,CAAC,KAAK,EAAE;gBACtC,QAAQ,GAAG,CAAC,uBAAuB,UAAS,IAAI;gBAChD,QAAQ,GAAG,CAAC,6BAA6B,UAAS,IAAI,CAAC,KAAK;gBAC5D,yCAAyC;gBACzC,iBAAiB,UAAS,IAAI,CAAC,KAAK;gBACpC,WAAW;YAEX,wBAAwB;YACxB,yDAAyD;YAE7D,OAAO;gBACH,iBAAiB,EAAE;gBACnB,WAAW;YACf;QACA,EAAE,OAAO,OAAO;YAChB,QAAQ,KAAK,CAAC,0BAA0B;YACxC,WAAW;QACX;IACJ;IAEA,IAAI,cAAc,SAAS,GAAG,CAC1B,CAAC;QACG,IAAI,YAAY,aAAa,CAAC,KAAK,KAAK,CAAC;QACzC,IAAI,cAAc,UAAU,CAAC,KAAK,KAAK,CAAC;QAExC,qBACI,8OAAC,iIAAA,CAAA,YAAS;YAAiB,OAAO,KAAK,KAAK;YAAE,QAAQ,KAAK,MAAM;YAAE,MAAM,KAAK,IAAI;YAAE,UAAU,KAAK,QAAQ;YAAE,UAAU;YAAW,YAAY;WAA9H,KAAK,IAAI;;;;;IAEjC;IAGJ,qBACI,8OAAC;QAAI,WAAU;;0BACX,8OAAC;gBAAI,WAAY;0BACjB,cAAA,8OAAC;;sCACG,8OAAC;4BAAG,WAAU;sCAAS;;;;;;sCACvB,8OAAC,2IAAA,CAAA,UAAQ;4BACL,cAAc;4BACd,gBAAgB;4BAChB,gBAAgB,CAAC,IAAM,SAAS,UAAU,CAAC,CAAC,EAAE;;;;;;;;;;;;;;;;;0BAItD,8OAAC;gBAAI,WAAY;;;;;;0BACjB,8OAAC;gBAAI,WAAY;0BACb,cAAA,8OAAC;oBAAI,WAAU;8BACT;;;;;;;;;;;;;;;;;AAKtB"}},
    {"offset": {"line": 670, "column": 0}, "map": {"version":3,"sources":[],"names":[],"mappings":"A"}}]
}